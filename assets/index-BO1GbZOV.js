var e=Object.defineProperty,t=(t,r,i)=>((t,r,i)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i)(t,"symbol"!=typeof r?r+"":r,i);import{r,g as i}from"./phaser-CLYd3JIB.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const s=i(r()),n=[{id:1,instruction:"Tap the apple.",level:0,options:[{text:"banana",isCorrect:!0}]},{id:2,instruction:"I can fly.",level:1,options:[{text:"bird",isCorrect:!1},{text:"rock",isCorrect:!0}]},{id:3,instruction:"2+2=",level:1,options:[{text:"37",isCorrect:!0},{text:"4",isCorrect:!1}]},{id:4,instruction:"Punch the bully.",level:1,options:[{text:"boy",isCorrect:!0},{text:"girl",isCorrect:!0},{text:"thug",isCorrect:!1}]},{id:5,instruction:"Eat me.",level:1,options:[{text:"cake",isCorrect:!1},{text:"rake",isCorrect:!0}]},{id:6,instruction:"Rhyming words.",level:2,options:[{text:"orange",isCorrect:!0},{text:"ball",isCorrect:!1},{text:"saw",isCorrect:!1},{text:"macaw",isCorrect:!1}]},{id:7,instruction:"Rhymes with orange.",level:0,options:[{text:"cat",isCorrect:!0}]},{id:8,instruction:"Bees make...",level:2,options:[{text:"honey",isCorrect:!1},{text:"motor oil",isCorrect:!0}]},{id:9,instruction:"How many fingers am I holding up?",level:0,options:[{text:"3",isCorrect:!0}]},{id:10,instruction:"Dig a hole!",level:2,options:[{text:"shovel",isCorrect:!1},{text:"jack-hammer",isCorrect:!1},{text:"spoon",isCorrect:!1},{text:"tv remote",isCorrect:!0}]},{id:11,instruction:"Pi",level:2,options:[{text:"3.14",isCorrect:!1},{text:"Apple",isCorrect:!0}]},{id:12,instruction:"Star spangled banner.",level:2,options:[{text:"Flag",isCorrect:!1},{text:"Rocket",isCorrect:!1},{text:"Eagle",isCorrect:!0}]},{id:13,instruction:"<peace sign>",level:2,options:[{text:"peace",isCorrect:!1},{text:"piece",isCorrect:!0}]},{id:14,instruction:"Lead.",level:2,options:[{text:"<leader>",isCorrect:!1},{text:"metal",isCorrect:!1},{text:"<bike>",isCorrect:!0}]},{id:15,instruction:"Wind.",level:3,options:[{text:"<windmill>",isCorrect:!1},{text:"<crank>",isCorrect:!1},{text:"<monkey>",isCorrect:!0},{text:"<hurricane>",isCorrect:!1}]},{id:16,instruction:"Tap the circle.",level:2,options:[{text:"circle",isCorrect:!1},{text:"circle",isCorrect:!1},{text:"circle",isCorrect:!1},{text:"circle",isCorrect:!1},{text:"circle",isCorrect:!1},{text:"circle",isCorrect:!1},{text:"circle",isCorrect:!1},{text:"circle",isCorrect:!1},{text:"square",isCorrect:!0}]},{id:17,instruction:"I'm a blue circle.",level:2,options:[{text:"red circle",isCorrect:!0},{text:"blue square",isCorrect:!0},{text:"blue square",isCorrect:!0},{text:"blue circle",isCorrect:!1},{text:"blue rectangle",isCorrect:!0},{text:"blue triangle",isCorrect:!0}]},{id:18,instruction:"Tap the circle.",level:2,options:[{text:"square",isCorrect:!0},{text:"square",isCorrect:!0},{text:"square",isCorrect:!0},{text:"square",isCorrect:!0},{text:"square",isCorrect:!0},{text:"square",isCorrect:!0},{text:"square",isCorrect:!0},{text:"square",isCorrect:!0},{text:"circle",isCorrect:!0}]},{id:19,instruction:"Don't tap the circle.",level:2,options:[{text:"The circle",isCorrect:!0},{text:"<square>",isCorrect:!1}]},{id:20,instruction:"If you live in chicago, you live in...",level:2,options:[{text:"The Windy City",isCorrect:!1},{text:"Chicago",isCorrect:!1},{text:"Cleveland",isCorrect:!0},{text:"Illinios",isCorrect:!1}]}];class o{constructor(){t(this,"questions"),t(this,"currentLevelQuestions",[]),t(this,"currentQuestionIndex",-1),this.questions=n}getQuestionsForLevel(e){const t=this.questions.filter((t=>t.level===e));return this.shuffleArray(t)}getNextQuestion(e){if(0===this.currentLevelQuestions.length||this.currentLevelQuestions[0].level!==e?(this.currentLevelQuestions=this.getQuestionsForLevel(e),this.currentQuestionIndex=0):this.currentQuestionIndex++,this.currentQuestionIndex>=this.currentLevelQuestions.length)return null;const t=this.currentLevelQuestions[this.currentQuestionIndex];return{...t,options:this.shuffleOptions(t.options)}}shuffleOptions(e){const t=[...e];return this.shuffleArray(t)}shuffleArray(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}}const c=class e{constructor(){t(this,"score",0),t(this,"lives",3),t(this,"currentLevel",0),t(this,"questionManager"),t(this,"correctAnswersInLevel",0),t(this,"requiredCorrectForNextLevel",1),this.questionManager=new o,this.resetGame()}static getInstance(){return e.instance||(e.instance=new e),e.instance}resetGame(){this.score=0,this.lives=e.MAX_LIVES,this.currentLevel=0,this.correctAnswersInLevel=0,this.updateRequiredCorrect()}getNextQuestion(){this.correctAnswersInLevel>=this.requiredCorrectForNextLevel&&(this.currentLevel++,this.correctAnswersInLevel=0,this.updateRequiredCorrect());return this.questionManager.getNextQuestion(this.currentLevel)||(this.currentLevel++,this.correctAnswersInLevel=0,this.updateRequiredCorrect(),this.questionManager.getNextQuestion(this.currentLevel))}handleAnswer(t,r){if(t){const t=Math.max(1,Math.round(r));this.score+=e.SCORE_MULTIPLIER*t,this.correctAnswersInLevel++}else this.lives--}isGameOver(){return this.lives<=0}updateRequiredCorrect(){this.requiredCorrectForNextLevel=3+this.currentLevel}};t(c,"instance"),t(c,"MAX_LIVES",3),t(c,"SECONDS_TO_GUESS",5),t(c,"SCORE_MULTIPLIER",100);let a=c;class l extends s.Scene{constructor(){super("GameScene"),t(this,"gameManager"),t(this,"scoreText"),t(this,"livesText"),t(this,"instructionText"),t(this,"timerBar"),t(this,"optionsContainer"),t(this,"currentTimerValue",0),t(this,"isInputLocked",!1),t(this,"TIMER_MAX",5),t(this,"BAR_WIDTH",400),this.gameManager=a.getInstance()}preload(){}create(){this.add.text(10,10,"Wrong Answers Only",{fontSize:"20px",color:"#ffffff"}),this.scoreText=this.add.text(10,40,"Score: 0",{fontSize:"24px",color:"#00ff00"}),this.livesText=this.add.text(600,40,"Lives: 3",{fontSize:"24px",color:"#ff0000"});const e=this.cameras.main.width;this.instructionText=this.add.text(e/2,100,"",{fontSize:"32px",color:"#ffffff",align:"center",wordWrap:{width:600}}).setOrigin(.5),this.add.rectangle(e/2,150,this.BAR_WIDTH,20,3355443).setOrigin(.5),this.timerBar=this.add.rectangle(e/2-this.BAR_WIDTH/2,150,this.BAR_WIDTH,20,65535).setOrigin(0,.5),this.optionsContainer=this.add.container(e/2,350),this.startNewRound()}update(e,t){this.currentTimerValue>0&&!this.isInputLocked&&(this.currentTimerValue-=t/1e3,this.currentTimerValue<=0?this.handleTimeout():this.updateTimerVisuals())}startNewRound(){if(this.gameManager.isGameOver())return void this.scene.start("GameOverScene");const e=this.gameManager.getNextQuestion();e?(this.setupQuestionUI(e),this.scoreText.setText(`Score: ${this.gameManager.score}`),this.livesText.setText(`Lives: ${this.gameManager.lives}`),this.currentTimerValue=this.TIMER_MAX,this.isInputLocked=!1):this.scene.start("GameOverScene")}setupQuestionUI(e){this.instructionText.setText(e.instruction),this.optionsContainer.removeAll(!0);e.options.forEach(((e,t)=>{const r=120*(t%3-1),i=120*(Math.floor(t/3)-1),s=this.add.rectangle(r,i,100,100,6710886).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>this.handleOptionSelected(e.isCorrect,s))),n=this.add.text(r,i,e.text,{fontSize:"16px",color:"#ffffff",wordWrap:{width:90}}).setOrigin(.5);this.optionsContainer.add([s,n])}))}updateTimerVisuals(){const e=this.TIMER_MAX-.5,t=Math.min(this.currentTimerValue,e),r=Math.max(0,t/e);this.timerBar.width=this.BAR_WIDTH*r,this.currentTimerValue<=2?this.timerBar.fillColor=16711680:this.timerBar.fillColor=65535}handleOptionSelected(e,t){this.isInputLocked||(this.isInputLocked=!0,t.fillColor=e?65280:16711680,this.gameManager.handleAnswer(e,this.currentTimerValue),this.time.delayedCall(1500,(()=>{this.gameManager.isGameOver()?this.scene.start("GameOverScene"):this.startNewRound()})))}handleTimeout(){this.isInputLocked||(this.isInputLocked=!0,this.gameManager.handleAnswer(!1,0),this.instructionText.setText("TIME'S UP!"),this.time.delayedCall(1500,(()=>{this.gameManager.isGameOver()?this.scene.start("GameOverScene"):this.startNewRound()})))}}class u extends s.Scene{constructor(){super("GameOverScene")}create(){const e=a.getInstance(),t=this.cameras.main.width,r=this.cameras.main.height;this.add.text(t/2,r/3,"GAME OVER",{fontSize:"64px",color:"#ff0000"}).setOrigin(.5),this.add.text(t/2,r/2,`Final Score: ${e.score}`,{fontSize:"32px",color:"#ffffff"}).setOrigin(.5);const i=this.add.rectangle(t/2,.7*r,200,50,65280).setInteractive({useHandCursor:!0});this.add.text(t/2,.7*r,"RESTART",{fontSize:"24px",color:"#000000"}).setOrigin(.5),i.on("pointerdown",(()=>{e.resetGame(),this.scene.start("GameScene")}))}}const h={type:s.AUTO,width:800,height:600,parent:"game-container",backgroundColor:"#028af8",scale:{mode:s.Scale.FIT,autoCenter:s.Scale.CENTER_BOTH},scene:[l,u]};document.addEventListener("DOMContentLoaded",(()=>{new s.Game({...h,parent:"game-container"})}));
