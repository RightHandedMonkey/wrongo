var t=Object.defineProperty,e=(e,i,r)=>((e,i,r)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r)(e,"symbol"!=typeof i?i+"":i,r);import{r as i,g as r}from"./phaser-CLYd3JIB.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var s=i();const o=r(s),n=class t{constructor(){e(this,"STORAGE_KEY","wao_leaderboard")}static getInstance(){return t.instance||(t.instance=new t),t.instance}getScores(){const t=localStorage.getItem(this.STORAGE_KEY);if(!t)return[];try{return JSON.parse(t).sort(((t,e)=>e.score-t.score))}catch(e){return console.error("Failed to parse leaderboard data",e),[]}}saveScore(t,e){t&&""!==t.trim()||(t="Anonymous");const i=this.getScores();i.push({name:t.trim(),score:e,date:Date.now()});const r=i.sort(((t,e)=>e.score-t.score)).slice(0,10);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r))}};e(n,"instance");let a=n;const l="Joan",c="Jaldi";class h{static render(t,e,i,r){const s=t.add.container(e,i),o=a.getInstance().getScores(),n=Math.floor(.08*r),l=Math.floor(.05*r),h=1.5*l,u=t.add.text(0,0,"LEADERBOARD",{fontSize:`${n}px`,color:"#00ffff",fontFamily:c,fontStyle:"bold"}).setOrigin(.5);if(s.add(u),0===o.length){const e=t.add.text(0,h,"No scores yet!",{fontSize:`${l}px`,color:"#888888",fontFamily:c}).setOrigin(.5);s.add(e)}else o.slice(0,5).forEach(((e,i)=>{const o=h+i*h,n=t.add.text(-r/3,o,`${i+1}. ${e.name}`,{fontSize:`${l}px`,color:"#ffffff",fontFamily:c}).setOrigin(0,.5),a=t.add.text(r/3,o,`${e.score}`,{fontSize:`${l}px`,color:"#00ff00",fontFamily:c}).setOrigin(1,.5);s.add([n,a])}));return s}}var u,f,d={exports:{}};const p=r((u||(u=1,f=d,function(){function t(t,e,i){return t.call.apply(t.bind,arguments)}function e(t,e,i){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function i(r,s,o){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:e).apply(null,arguments)}var r=Date.now||function(){return+new Date};function s(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var o=!!window.FontFace;function n(t,e,i,r){if(e=t.c.createElement(e),i)for(var s in i)i.hasOwnProperty(s)&&("style"==s?e.style.cssText=i[s]:e.setAttribute(s,i[s]));return r&&e.appendChild(t.c.createTextNode(r)),e}function a(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function l(t){t.parentNode&&t.parentNode.removeChild(t)}function c(t,e,i){e=e||[],i=i||[];for(var r=t.className.split(/\s+/),s=0;s<e.length;s+=1){for(var o=!1,n=0;n<r.length;n+=1)if(e[s]===r[n]){o=!0;break}o||r.push(e[s])}for(e=[],s=0;s<r.length;s+=1){for(o=!1,n=0;n<i.length;n+=1)if(r[s]===i[n]){o=!0;break}o||e.push(r[s])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(t,e){for(var i=t.className.split(/\s+/),r=0,s=i.length;r<s;r++)if(i[r]==e)return!0;return!1}function u(t,e,i){function r(){h&&s&&l&&(h(c),h=null)}e=n(t,"link",{rel:"stylesheet",href:e,media:"all"});var s=!1,l=!0,c=null,h=i||null;o?(e.onload=function(){s=!0,r()},e.onerror=function(){s=!0,c=Error("Stylesheet failed to load"),r()}):setTimeout((function(){s=!0,r()}),0),a(t,"head",e)}function d(t,e,i,r){var s=t.c.getElementsByTagName("head")[0];if(s){var o=n(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,i&&i(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&s.removeChild(o))},s.appendChild(o),setTimeout((function(){a||(a=!0,i&&i(Error("Script load timeout")))}),r||5e3),o}return null}function p(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,x(t)}}function g(t,e){t.c=e,x(t)}function x(t){0==t.a&&t.c&&(t.c(),t.c=null)}function C(t){this.a=t||"-"}function v(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function y(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var r=t[i].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function w(t){return t.a+t.f}function b(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,i="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(i=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),i+e}function T(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new C("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function k(t){if(t.g){var e=h(t.f,t.a.c("wf","active")),i=[],r=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),c(t.f,i,r)}O(t,"inactive")}function O(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,w(i)):t.h[e]())}function M(){this.c={}}function A(t,e){this.c=t,this.f=e,this.a=n(this.c,"span",{"aria-hidden":"true"},this.f)}function L(t){a(t.c,"body",t.a)}function R(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+y(t.c)+";font-style:"+b(t)+";font-weight:"+t.f+"00;"}function I(t,e,i,r,s,o){this.g=t,this.j=e,this.a=r,this.c=i,this.f=s||3e3,this.h=o||void 0}function E(t,e,i,r,s,o,n){this.v=t,this.B=e,this.c=i,this.a=r,this.s=n||"BESbswy",this.f={},this.w=s||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=R(t=new v(this.a.c+",serif",w(this.a))),this.g.a.style.cssText=t,t=R(t=new v(this.a.c+",sans-serif",w(this.a))),this.h.a.style.cssText=t,t=R(t=new v("serif",w(this.a))),this.j.a.style.cssText=t,t=R(t=new v("sans-serif",w(this.a))),this.m.a.style.cssText=t,L(this.g),L(this.h),L(this.j),L(this.m)}C.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},I.prototype.start=function(){var t=this.c.o.document,e=this,i=r(),s=new Promise((function(s,o){!function n(){r()-i>=e.f?o():t.fonts.load(function(t){return b(t)+" "+t.f+"00 300px "+y(t.c)}(e.a),e.h).then((function(t){1<=t.length?s():setTimeout(n,25)}),(function(){o()}))}()})),o=null,n=new Promise((function(t,i){o=setTimeout(i,e.f)}));Promise.race([n,s]).then((function(){o&&(clearTimeout(o),o=null),e.g(e.a)}),(function(){e.j(e.a)}))};var G={D:"serif",C:"sans-serif"},_=null;function P(){if(null===_){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);_=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return _}function F(t,e,i){for(var r in G)if(G.hasOwnProperty(r)&&e===t.f[G[r]]&&i===t.f[G[r]])return!0;return!1}function N(t){var e,s=t.g.a.offsetWidth,o=t.h.a.offsetWidth;(e=s===t.f.serif&&o===t.f["sans-serif"])||(e=P()&&F(t,s,o)),e?r()-t.A>=t.w?P()&&F(t,s,o)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?q(t,t.v):q(t,t.B):function(t){setTimeout(i((function(){N(this)}),t),50)}(t):q(t,t.v)}function q(t,e){setTimeout(i((function(){l(this.g.a),l(this.h.a),l(this.j.a),l(this.m.a),e(this.a)}),t),0)}function D(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}E.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=r(),N(this)};var j=null;function Q(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&c(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),O(t,"active")):k(t.a))}function V(t){this.j=t,this.a=new M,this.h=0,this.f=this.g=!0}function $(t,e,r,s,o){var n=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=o||null,a=s||{};if(0===r.length&&n)k(e.a);else{e.f+=r.length,n&&(e.j=n);var l,h=[];for(l=0;l<r.length;l++){var u=r[l],f=a[u.c],d=e.a,p=u;if(d.g&&c(d.f,[d.a.c("wf",p.c,w(p).toString(),"loading")]),O(d,"fontloading",p),d=null,null===j)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var m=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);j=p?42<parseInt(p[1],10):!m}else j=!1;d=j?new I(i(e.g,e),i(e.h,e),e.c,u,e.s,f):new E(i(e.g,e),i(e.h,e),e.c,u,e.s,t,f),h.push(d)}for(l=0;l<h.length;l++)h[l].start()}}),0)}function z(t,e){this.c=t,this.a=e}function B(t,e){this.c=t,this.a=e}function W(t,e){this.c=t||H,this.a=[],this.f=[],this.g=e||""}D.prototype.g=function(t){var e=this.a;e.g&&c(e.f,[e.a.c("wf",t.c,w(t).toString(),"active")],[e.a.c("wf",t.c,w(t).toString(),"loading"),e.a.c("wf",t.c,w(t).toString(),"inactive")]),O(e,"fontactive",t),this.m=!0,Q(this)},D.prototype.h=function(t){var e=this.a;if(e.g){var i=h(e.f,e.a.c("wf",t.c,w(t).toString(),"active")),r=[],s=[e.a.c("wf",t.c,w(t).toString(),"loading")];i||r.push(e.a.c("wf",t.c,w(t).toString(),"inactive")),c(e.f,r,s)}O(e,"fontinactive",t),Q(this)},V.prototype.load=function(t){this.c=new s(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,i){var r=[],s=i.timeout;!function(t){t.g&&c(t.f,[t.a.c("wf","loading")]),O(t,"loading")}(e),r=function(t,e,i){var r,s=[];for(r in e)if(e.hasOwnProperty(r)){var o=t.c[r];o&&s.push(o(e[r],i))}return s}(t.a,i,t.c);var o=new D(t.c,e,s);for(t.h=r.length,e=0,i=r.length;e<i;e++)r[e].load((function(e,i,r){$(t,o,e,i,r)}))}(this,new T(this.c,t),t)},z.prototype.load=function(t){function e(){if(o["__mti_fntLst"+r]){var i,s=o["__mti_fntLst"+r](),n=[];if(s)for(var a=0;a<s.length;a++){var l=s[a].fontfamily;null!=s[a].fontStyle&&null!=s[a].fontWeight?(i=s[a].fontStyle+s[a].fontWeight,n.push(new v(l,i))):n.push(new v(l))}t(n)}else setTimeout((function(){e()}),50)}var i=this,r=i.a.projectId,s=i.a.version;if(r){var o=i.c.o;d(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(s?"?v="+s:""),(function(s){s?t([]):(o["__MonotypeConfiguration__"+r]=function(){return i.a},e())})).id="__MonotypeAPIScript__"+r}else t([])},B.prototype.load=function(t){var e,i,r=this.a.urls||[],s=this.a.families||[],o=this.a.testStrings||{},n=new p;for(e=0,i=r.length;e<i;e++)u(this.c,r[e],m(n));var a=[];for(e=0,i=s.length;e<i;e++)if((r=s[e].split(":"))[1])for(var l=r[1].split(","),c=0;c<l.length;c+=1)a.push(new v(r[0],l[c]));else a.push(new v(r[0]));g(n,(function(){t(a,o)}))};var H="https://fonts.googleapis.com/css";function U(t){this.f=t,this.a=[],this.c={}}var J={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Y={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},K={i:"i",italic:"i",n:"n",normal:"n"},X=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Z(t,e){this.c=t,this.a=e}var tt={Arimo:!0,Cousine:!0,Tinos:!0};function et(t,e){this.c=t,this.a=e}function it(t,e){this.c=t,this.f=e,this.a=[]}Z.prototype.load=function(t){var e=new p,i=this.c,r=new W(this.a.api,this.a.text),s=this.a.families;!function(t,e){for(var i=e.length,r=0;r<i;r++){var s=e[r].split(":");3==s.length&&t.f.push(s.pop());var o="";2==s.length&&""!=s[1]&&(o=":"),t.a.push(s.join(o))}}(r,s);var o=new U(s);!function(t){for(var e=t.f.length,i=0;i<e;i++){var r=t.f[i].split(":"),s=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var n;if(n=[],a=r[1])for(var a,l=(a=a.split(",")).length,c=0;c<l;c++){var h;if((h=a[c]).match(/^[\w-]+$/))if(null==(u=X.exec(h.toLowerCase())))h="";else{if(h=null==(h=u[2])||""==h?"n":K[h],null==(u=u[1])||""==u)u="4";else var u=Y[u]||(isNaN(u)?"4":u.substr(0,1));h=[h,u].join("")}else h="";h&&n.push(h)}0<n.length&&(o=n),3==r.length&&(n=[],0<(r=(r=r[2])?r.split(","):n).length&&(r=J[r[0]])&&(t.c[s]=r))}for(t.c[s]||(r=J[s])&&(t.c[s]=r),r=0;r<o.length;r+=1)t.a.push(new v(s,o[r]))}}(o),u(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],r=0;r<e;r++)i.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(r),m(e)),g(e,(function(){t(o.a,o.c,tt)}))},et.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?d(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var r=[],s=0;s<e.length;s+=2)for(var o=e[s],n=e[s+1],a=0;a<n.length;a++)r.push(new v(o,n[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}t(r)}}),2e3):t([])},it.prototype.load=function(t){var e=this.f.id,i=this.c.o,r=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var s=0,o=i.fonts.length;s<o;++s){var n=i.fonts[s];r.a.push(new v(n.name,S("font-weight:"+n.weight+";font-style:"+n.style)))}t(r.a)},d(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var rt=new V(window);rt.a.c.custom=function(t,e){return new B(e,t)},rt.a.c.fontdeck=function(t,e){return new it(e,t)},rt.a.c.monotype=function(t,e){return new z(e,t)},rt.a.c.typekit=function(t,e){return new et(e,t)},rt.a.c.google=function(t,e){return new Z(e,t)};var st={load:i(rt.load,rt)};f.exports?f.exports=st:(window.WebFont=st,window.WebFontConfig&&rt.load(window.WebFontConfig))}()),d.exports));class m extends o.Loader.File{constructor(t,i){super(t,{type:"webfont",key:Array.isArray(i)?i.join(","):i}),e(this,"families"),this.families=Array.isArray(i)?i:[i]}load(){p.load({google:{families:this.families},active:()=>{this.loader.nextFile(this,!0)},inactive:()=>{console.error(`Failed to load webfonts: ${this.families.join(", ")}`),this.loader.nextFile(this,!1)}})}}class g extends o.Scene{constructor(){super("MainMenuScene")}preload(){this.load.setPath("public/assets"),this.load.setPath("assets"),this.load.audio("menu-hover","audio/mobile-slots-001.wav"),this.load.audio("menu-select","audio/mobile-coin-001.wav"),this.load.audio("game-start","audio/musical-combat-ready-001.wav"),this.load.audio("back-cancel","audio/mobile-debuff-002.wav"),this.load.audio("instruction-reveal","audio/mobile-tweet-002.wav"),this.load.audio("grid-item-spawn","audio/mobile-slots-002.wav"),this.load.audio("timer-tick","audio/mobile-compound-002.wav"),this.load.audio("timer-low-warning","audio/low-hp-heartbeat-fast-loop.wav"),this.load.audio("timeout","audio/generic-fail-a.wav"),this.load.audio("correct","audio/success-level-a.wav"),this.load.audio("incorrect","audio/generic-fail-b.wav"),this.load.audio("life-lost","audio/mobile-debuff-003.wav"),this.load.audio("level-up","audio/massive-combo-complete.wav"),this.load.audio("game-over","audio/generic-fail-c.wav"),this.load.audio("high-score","audio/musical-bless-001.wav"),this.load.audio("restart","audio/musical-connect-002.wav"),this.load.addFile(new m(this.load,["Jaldi:400,700","Joan"]))}create(){const t=this.cameras.main.width,e=this.cameras.main.height;this.scene.isActive("BorderOverlayScene")?this.game.events.emit("timer-reset"):this.scene.launch("BorderOverlayScene"),this.scene.isActive("BackgroundScene")||(this.scene.launch("BackgroundScene"),this.scene.sendToBack("BackgroundScene")),this.add.text(t/2,.25*e,"Wrong Answers Only",{fontSize:`${Math.floor(.08*t)}px`,color:"#ffffff",fontFamily:l,align:"center",wordWrap:{width:.8*t}}).setOrigin(.5),h.render(this,t/2,.55*e,.8*t);const i=.6*t,r=.06*e,s=this.add.rectangle(t/2,.85*e,i,r,65280).setInteractive({useHandCursor:!0});this.add.text(t/2,.85*e,"PLAY",{fontSize:`${Math.floor(.45*r)}px`,color:"#000000",fontFamily:c,fontStyle:"bold"}).setOrigin(.5),s.on("pointerdown",(()=>{this.sound instanceof o.Sound.WebAudioSoundManager&&"suspended"===this.sound.context.state&&this.sound.context.resume(),this.sound.play("game-start"),this.scene.start("GameScene")})),s.on("pointerover",(()=>{s.fillColor=56576})),s.on("pointerout",(()=>{s.fillColor=65280}))}}const x=JSON.parse('[{"id":1,"instruction":"Tap the apple","theme":"","failure":"","level":0,"options":[{"text":"banana","isCorrect":true}]},{"id":2,"instruction":"I can fly all by myself","theme":"","failure":"Rocks don\'t fly on their own!","level":1,"options":[{"text":"bird","isCorrect":false},{"text":"rock","isCorrect":true}]},{"id":3,"instruction":"2+2=","theme":"","failure":"","level":1,"options":[{"text":"37","isCorrect":true},{"text":"4","isCorrect":false}]},{"id":4,"instruction":"Punch the bully","theme":"","failure":"","level":1,"options":[{"text":"boy","isCorrect":true},{"text":"girl","isCorrect":true},{"text":"thug","isCorrect":false}]},{"id":5,"instruction":"Eat me","theme":"","failure":"","level":1,"options":[{"text":"cake","isCorrect":false},{"text":"rake","isCorrect":true}]},{"id":6,"instruction":"Rhyming words","theme":"","failure":"","level":2,"options":[{"text":"orange","isCorrect":true},{"text":"ball","isCorrect":false},{"text":"saw","isCorrect":false},{"text":"macaw","isCorrect":false}]},{"id":7,"instruction":"Rhymes with orange","theme":"","failure":"","level":0,"options":[{"text":"cat","isCorrect":true}]},{"id":8,"instruction":"Bees make...","theme":"","failure":"","level":2,"options":[{"text":"honey","isCorrect":false},{"text":"motor oil","isCorrect":true}]},{"id":9,"instruction":"How many fingers am I holding up? (2)","theme":"","failure":"","level":0,"options":[{"text":"3","isCorrect":true}]},{"id":10,"instruction":"Dig a hole!","theme":"","failure":"","level":2,"options":[{"text":"shovel","isCorrect":false},{"text":"jack-hammer","isCorrect":false},{"text":"spoon","isCorrect":false},{"text":"tv remote","isCorrect":true}]},{"id":11,"instruction":"Pi","theme":"","failure":"","level":2,"options":[{"text":"3.14","isCorrect":false},{"text":"Apple","isCorrect":true}]},{"id":12,"instruction":"Star spangled banner","theme":"","failure":"","level":2,"options":[{"text":"Flag","isCorrect":false},{"text":"Rocket","isCorrect":false},{"text":"Eagle","isCorrect":true}]},{"id":13,"instruction":"peace sign","theme":"","failure":"","level":2,"options":[{"text":"peace","isCorrect":false},{"text":"piece","isCorrect":true}]},{"id":14,"instruction":"Lead","theme":"","failure":"","level":2,"options":[{"text":"<leader>","isCorrect":false},{"text":"metal","isCorrect":false},{"text":"<bike>","isCorrect":true}]},{"id":15,"instruction":"Wind","theme":"","failure":"","level":3,"options":[{"text":"windmill","isCorrect":false},{"text":"crank","isCorrect":false},{"text":"monkey","isCorrect":true},{"text":"hurricane","isCorrect":false}]},{"id":16,"instruction":"Tap the circle","theme":"","failure":"","level":2,"options":[{"text":"square","isCorrect":true},{"text":"circle","isCorrect":false},{"text":"circle","isCorrect":false},{"text":"circle","isCorrect":false},{"text":"circle","isCorrect":false},{"text":"circle","isCorrect":false},{"text":"circle","isCorrect":false}]},{"id":17,"instruction":"I\'m a blue circle","theme":"","failure":"","level":2,"options":[{"text":"red circle","isCorrect":true},{"text":"blue square","isCorrect":true},{"text":"blue square","isCorrect":true},{"text":"blue circle","isCorrect":false},{"text":"blue rectangle","isCorrect":true},{"text":"blue triangle","isCorrect":true}]},{"id":18,"instruction":"Tap the circle","theme":"","failure":"","level":2,"options":[{"text":"circle","isCorrect":false},{"text":"square","isCorrect":true},{"text":"square","isCorrect":true},{"text":"square","isCorrect":true},{"text":"square","isCorrect":true},{"text":"square","isCorrect":true},{"text":"square","isCorrect":true}]},{"id":19,"instruction":"Don\'t tap the circle","theme":"","failure":"","level":2,"options":[{"text":"The circle","isCorrect":true},{"text":"square","isCorrect":false}]},{"id":20,"instruction":"If you live in chicago, you live in...","theme":"","failure":"","level":2,"options":[{"text":"The Windy City","isCorrect":false},{"text":"Chicago","isCorrect":false},{"text":"Cleveland","isCorrect":true},{"text":"Illinios","isCorrect":false}]},{"id":21,"instruction":"You can drive this","theme":"","failure":"","level":2,"options":[{"text":"Car","isCorrect":false},{"text":"Motorcycle ","isCorrect":false},{"text":"Boat","isCorrect":false},{"text":"Wheel","isCorrect":true}]},{"id":22,"instruction":"Venomous","theme":"","failure":"","level":3,"options":[{"text":"black widow","isCorrect":false},{"text":"python","isCorrect":true},{"text":"tarantula","isCorrect":false},{"text":"scorpion","isCorrect":false}]},{"id":23,"instruction":"Caret","theme":"","failure":"","level":2,"options":[{"text":"diamond","isCorrect":false},{"text":"carrot","isCorrect":false},{"text":"^","isCorrect":false},{"text":"cucumber","isCorrect":true}]},{"id":24,"instruction":"Tap the cell","theme":"","failure":"","level":2,"options":[{"text":"mobile phone","isCorrect":false},{"text":"prison cell","isCorrect":false},{"text":"dna helix","isCorrect":true}]},{"id":25,"instruction":"The Garden State","theme":"","failure":"","level":2,"options":[{"text":"California","isCorrect":true},{"text":"New Jersey","isCorrect":false}]},{"id":26,"instruction":"Rhymes with...","theme":"","failure":"","level":2,"options":[{"text":"bass","isCorrect":false},{"text":"car","isCorrect":true},{"text":"face","isCorrect":false},{"text":"space","isCorrect":false}]},{"id":27,"instruction":"The correct spelling is...","theme":"","failure":"","level":2,"options":[{"text":"misspell","isCorrect":false},{"text":"restaurant","isCorrect":false},{"text":"anniversary","isCorrect":false},{"text":"accomodate","isCorrect":true}]},{"id":28,"instruction":"Eat me","theme":"","failure":"","level":2,"options":[{"text":"Pie ","isCorrect":false},{"text":"pi","isCorrect":true},{"text":"cake","isCorrect":false}]},{"id":29,"instruction":"Got bark?","theme":"","failure":"","level":2,"options":[{"text":"tree","isCorrect":false},{"text":"dog","isCorrect":false},{"text":"squirrel","isCorrect":true}]},{"id":30,"instruction":"Something fun to watch","theme":"","failure":"","level":2,"options":[{"text":"drying paint","isCorrect":true},{"text":"tv","isCorrect":false},{"text":"movie","isCorrect":false}]},{"id":31,"instruction":"I am a","theme":"","failure":"","level":2,"options":[{"text":"boy","isCorrect":false},{"text":"girl","isCorrect":false},{"text":"capybara","isCorrect":true}]},{"id":32,"instruction":"Open this","theme":"","failure":"","level":2,"options":[{"text":"package","isCorrect":false},{"text":"door","isCorrect":false},{"text":"room","isCorrect":true}]},{"id":33,"instruction":"Something you have 10 of","theme":"","failure":"","level":2,"options":[{"text":"hands","isCorrect":true},{"text":"fingers","isCorrect":false},{"text":"toes","isCorrect":false}]},{"id":34,"instruction":"Tap something you wear","theme":"","failure":"","level":1,"options":[{"text":"watch","isCorrect":false},{"text":"socks","isCorrect":false},{"text":"pants","isCorrect":false},{"text":"clothes hanger","isCorrect":true}]},{"id":35,"instruction":"Things to tie","theme":"","failure":"","level":1,"options":[{"text":"chainsaw","isCorrect":true},{"text":"shoes","isCorrect":false},{"text":"string","isCorrect":false},{"text":"rope","isCorrect":false}]},{"id":36,"instruction":"Something yellow","theme":"","failure":"","level":1,"options":[{"text":"lime","isCorrect":true},{"text":"banana","isCorrect":false},{"text":"lemon","isCorrect":false},{"text":"daffodil","isCorrect":false}]},{"id":37,"instruction":"very bouncy","theme":"","failure":"","level":1,"options":[{"text":"soccer ball","isCorrect":false},{"text":"basketball","isCorrect":false},{"text":"trampoline","isCorrect":false},{"text":"bowling ball","isCorrect":true}]},{"id":38,"instruction":"holds water","theme":"","failure":"","level":1,"options":[{"text":"lake","isCorrect":false},{"text":"planet","isCorrect":false},{"text":"strainer","isCorrect":true}]},{"id":39,"instruction":"Sit on this","theme":"","failure":"","level":1,"options":[{"text":"chair","isCorrect":false},{"text":"floor","isCorrect":false},{"text":"ceiling","isCorrect":true}]},{"id":40,"instruction":"My hair is","theme":"","failure":"","level":1,"options":[{"text":"short","isCorrect":false},{"text":"long","isCorrect":false},{"text":"gone","isCorrect":false},{"text":"pizza","isCorrect":true}]},{"id":41,"instruction":"I am afraid of","theme":"","failure":"","level":1,"options":[{"text":"monsters","isCorrect":false},{"text":"ghosts","isCorrect":false},{"text":"automatic doors","isCorrect":true}]},{"id":42,"instruction":"Found in the kitchen","theme":"","failure":"","level":1,"options":[{"text":"spork","isCorrect":false},{"text":"cork","isCorrect":false},{"text":"fork","isCorrect":false},{"text":"dork","isCorrect":true}]},{"id":43,"instruction":"Unlocks things","theme":"","failure":"","level":1,"options":[{"text":"keypad","isCorrect":false},{"text":"house key","isCorrect":false},{"text":"car remote","isCorrect":false},{"text":"password","isCorrect":false},{"text":"sail boat","isCorrect":true}]},{"id":44,"instruction":"Has a screen","theme":"","failure":"","level":1,"options":[{"text":"window","isCorrect":false},{"text":"laptop","isCorrect":false},{"text":"phone","isCorrect":false},{"text":"table","isCorrect":true}]},{"id":45,"instruction":"Something you close","theme":"","failure":"","level":1,"options":[{"text":"app","isCorrect":false},{"text":"drawer","isCorrect":false},{"text":"book","isCorrect":false},{"text":"wall","isCorrect":true}]},{"id":46,"instruction":"Shiny","theme":"","failure":"","level":1,"options":[{"text":"bald head","isCorrect":false},{"text":"bald eagle","isCorrect":true},{"text":"silver paint","isCorrect":false},{"text":"disco ball","isCorrect":false}]},{"id":47,"instruction":"You pick this","theme":"","failure":"","level":1,"options":[{"text":"nose","isCorrect":false},{"text":"berries","isCorrect":false},{"text":"parents","isCorrect":true},{"text":"apples","isCorrect":false}]},{"id":48,"instruction":"Which has length","theme":"","failure":"","level":1,"options":[{"text":"line","isCorrect":false},{"text":"square","isCorrect":false},{"text":"point","isCorrect":true},{"text":"ruler","isCorrect":false}]},{"id":49,"instruction":"Fun pet","theme":"","failure":"","level":1,"options":[{"text":"monkey","isCorrect":false},{"text":"shark","isCorrect":true}]},{"id":50,"instruction":"What you get for Halloween","theme":"","failure":"","level":1,"options":[{"text":"candy","isCorrect":false},{"text":"trick","isCorrect":true},{"text":"treat","isCorrect":false},{"text":"puppy","isCorrect":true}]},{"id":51,"instruction":"A stitch in time saves...","theme":"","failure":"","level":1,"options":[{"text":"nine","isCorrect":false},{"text":"butter","isCorrect":true}]},{"id":52,"instruction":"A penny saved is a penny...","theme":"","failure":"","level":1,"options":[{"text":"earned","isCorrect":false},{"text":"eaten","isCorrect":true}]},{"id":53,"instruction":"Spell wrong","theme":"","failure":"","level":1,"options":[{"text":"wrong","isCorrect":false},{"text":"rong","isCorrect":true}]},{"id":54,"instruction":"Something big","theme":"","failure":"","level":1,"options":[{"text":"skyscraper","isCorrect":false},{"text":"red","isCorrect":true}]},{"id":55,"instruction":"It\'s red","theme":"","failure":"","level":1,"options":[{"text":"strawberry","isCorrect":false},{"text":"blue","isCorrect":true},{"text":"stop sign","isCorrect":false}]},{"id":56,"instruction":"Screwdriver","theme":"","failure":"","level":1,"options":[{"text":"orange juice","isCorrect":false},{"text":"screw","isCorrect":false},{"text":"bolt","isCorrect":true}]},{"id":57,"instruction":"Rock or Roll","theme":"","failure":"","level":1,"options":[{"text":"Rolling Stones","isCorrect":false},{"text":"Kaiser","isCorrect":false},{"text":"Yanni","isCorrect":true}]},{"id":58,"instruction":"It\'s so big!","theme":"","failure":"","level":1,"options":[{"text":"chipmunk","isCorrect":true},{"text":"schoolbus","isCorrect":false},{"text":"whale","isCorrect":false}]},{"id":59,"instruction":"Eat your veggies","theme":"","failure":"","level":1,"options":[{"text":"tomato","isCorrect":true},{"text":"brocolli","isCorrect":false},{"text":"lettuce","isCorrect":false}]},{"id":60,"instruction":"Giant robot!","theme":"","failure":"","level":1,"options":[{"text":"Voltron","isCorrect":false},{"text":"Optimus Prime","isCorrect":false},{"text":"Remoulade","isCorrect":true}]},{"id":61,"instruction":"Figuring out when to use they\'re, their, or there","theme":"","failure":"","level":1,"options":[{"text":"Love it","isCorrect":false},{"text":"Hate it","isCorrect":true}]},{"id":62,"instruction":"An engine has...","theme":"","failure":"","level":1,"options":[{"text":"pistons","isCorrect":false},{"text":"spark plug","isCorrect":false},{"text":"centrifuge","isCorrect":true}]},{"id":63,"instruction":"I like to drink","theme":"","failure":"","level":1,"options":[{"text":"baking soda","isCorrect":true},{"text":"ginger ale","isCorrect":false},{"text":"ginger beer","isCorrect":false}]},{"id":64,"instruction":"President","theme":"","failure":"","level":1,"options":[{"text":"Cleveland","isCorrect":false},{"text":"Franklin","isCorrect":true},{"text":"Paul Revere","isCorrect":true},{"text":"Obama","isCorrect":false}]},{"id":65,"instruction":"Don\'t pet me","theme":"","failure":"","level":1,"options":[{"text":"rattlesnake","isCorrect":false},{"text":"fluffy bunny","isCorrect":true},{"text":"Teddy bear","isCorrect":true}]},{"id":66,"instruction":"I\'m an astronaut","theme":"","failure":"","level":1,"options":[{"text":"Lance Amstrong","isCorrect":true},{"text":"Neil Armstrong","isCorrect":false}]},{"id":67,"instruction":"They are","theme":"","failure":"","level":1,"options":[{"text":"They\'re","isCorrect":false},{"text":"There","isCorrect":true},{"text":"Their","isCorrect":true}]},{"id":68,"instruction":"It\'s","theme":"","failure":"Don\'t you hate contractions?","level":3,"options":[{"text":"It is","isCorrect":false},{"text":"It has","isCorrect":false},{"text":"Belongs to it","isCorrect":true}]},{"id":69,"instruction":"Pop or star","theme":"","failure":"","level":1,"options":[{"text":"Bruno Mars","isCorrect":false},{"text":"The moon","isCorrect":true},{"text":"Ziggy Stardust","isCorrect":false}]},{"id":70,"instruction":"These can have bugs","theme":"","failure":"","level":3,"options":[{"text":"Computers","isCorrect":false},{"text":"Your bed","isCorrect":false},{"text":"My shed","isCorrect":false},{"text":"Elmer Fudd","isCorrect":true}]},{"id":71,"instruction":"Has keys","theme":"","failure":"","level":3,"options":[{"text":"Piano","isCorrect":false},{"text":"Typewriter","isCorrect":false},{"text":"Janitor","isCorrect":false},{"text":"Florida","isCorrect":false},{"text":"Anvil","isCorrect":true}]},{"id":72,"instruction":"CAPTCHA","theme":"","failure":"","level":1,"options":[{"text":"I am human","isCorrect":false},{"text":"I am not human","isCorrect":true}]},{"id":73,"instruction":"Going to bed","theme":"","failure":"","level":2,"options":[{"text":"setting the alarm","isCorrect":false},{"text":"pillow","isCorrect":false},{"text":"waking up","isCorrect":true},{"text":"sheet","isCorrect":false}]},{"id":74,"instruction":"Going to bed","theme":"","failure":"","level":2,"options":[{"text":"disrobing","isCorrect":false},{"text":"brush teeth","isCorrect":false},{"text":"pancakes","isCorrect":true},{"text":"pajamas","isCorrect":false}]},{"id":75,"instruction":"Things you do when you are sleeping","theme":"","failure":"","level":2,"options":[{"text":"dreaming","isCorrect":false},{"text":"sleep walking","isCorrect":false},{"text":"snoring","isCorrect":false},{"text":"brushing teeth","isCorrect":true}]},{"id":76,"instruction":"Current","theme":"","failure":"","level":3,"options":[{"text":"latest","isCorrect":false},{"text":"amps","isCorrect":false},{"text":"now","isCorrect":false},{"text":"clock","isCorrect":true}]},{"id":77,"instruction":"doctor","theme":"","failure":"","level":3,"options":[{"text":"hippocratic oath","isCorrect":false},{"text":"stethoscope","isCorrect":false},{"text":"alter","isCorrect":false},{"text":"laity","isCorrect":true}]},{"id":78,"instruction":"A tremendous feat","theme":"","failure":"","level":3,"options":[{"text":"Putting on my shoes","isCorrect":true},{"text":"Finding bigfoot","isCorrect":false},{"text":"Putting shoes on an alligator","isCorrect":false}]}]');class C{constructor(){e(this,"questions"),e(this,"currentLevelQuestions",[]),e(this,"currentQuestionIndex",-1),this.questions=x}setQuestions(t){this.questions=t,this.currentLevelQuestions=[],this.currentQuestionIndex=-1}getQuestionsForLevel(t){const e=this.questions.filter((e=>e.level===t));return this.shuffleArray(e)}getNextQuestion(t){if(0===this.currentLevelQuestions.length||this.currentLevelQuestions[0].level!==t?(this.currentLevelQuestions=this.getQuestionsForLevel(t),this.currentQuestionIndex=0):this.currentQuestionIndex++,this.currentQuestionIndex>=this.currentLevelQuestions.length)return null;const e=this.currentLevelQuestions[this.currentQuestionIndex];return{...e,options:this.shuffleOptions(e.options)}}getMaxLevel(){return 0===this.questions.length?0:Math.max(...this.questions.map((t=>t.level)))}shuffleOptions(t){const e=[...t];return this.shuffleArray(e)}shuffleArray(t){for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t}}const v=[{id:1,instruction:"This is a long description of some text question that the user should give an incorrect answer for",theme:"",failure:"",level:0,options:[{text:"Automaticdoors",isCorrect:!1},{text:"Automatic doors, ok!",isCorrect:!0},{text:"Automatic doors",isCorrect:!0},{text:"Automatic doors",isCorrect:!1},{text:"Automatic doors",isCorrect:!0},{text:"Automatic doors",isCorrect:!0},{text:"Automatic doors",isCorrect:!1},{text:"Automatic doors",isCorrect:!0},{text:"Automatic doors",isCorrect:!0}]}],y=class t{constructor(){e(this,"score",0),e(this,"lives",3),e(this,"currentLevel",0),e(this,"hasSavedScore",!1),e(this,"isDebugMode",!0),e(this,"isLayoutDebugMode",!1),e(this,"questionManager"),e(this,"correctAnswersInLevel",0),e(this,"requiredCorrectForNextLevel",1),this.questionManager=new C,this.resetGame()}static getInstance(){return t.instance||(t.instance=new t),t.instance}resetGame(){this.score=0,this.lives=t.MAX_LIVES,this.currentLevel=0,this.correctAnswersInLevel=0,this.hasSavedScore=!1,this.updateRequiredCorrect()}getNextQuestion(){this.correctAnswersInLevel>=this.requiredCorrectForNextLevel&&(this.currentLevel++,this.correctAnswersInLevel=0,this.updateRequiredCorrect());let t=this.questionManager.getNextQuestion(this.currentLevel);if(!t){const t=this.questionManager.getMaxLevel();return this.currentLevel<t?(this.currentLevel++,this.correctAnswersInLevel=0,this.updateRequiredCorrect(),this.getNextQuestion()):null}return t}handleAnswer(e,i){if(e){const e=Math.max(1,Math.round(i));this.score+=t.SCORE_MULTIPLIER*e,this.correctAnswersInLevel++}else this.lives--}isGameOver(){return this.lives<=0}updateRequiredCorrect(){this.requiredCorrectForNextLevel=this.getPrime(this.currentLevel)}getPrime(t){let e=-1,i=1;for(;e<t;)i++,this.isPrime(i)&&e++;return i}isPrime(t){if(t<=1)return!1;if(2===t)return!0;if(t%2==0)return!1;for(let e=3;e*e<=t;e+=2)if(t%e==0)return!1;return!0}toggleLayoutDebugMode(){this.isLayoutDebugMode=!this.isLayoutDebugMode,this.isLayoutDebugMode?this.questionManager.setQuestions(v):this.questionManager.setQuestions(x),this.resetGame()}};e(y,"instance"),e(y,"MAX_LIVES",3),e(y,"SECONDS_TO_GUESS",5),e(y,"SCORE_MULTIPLIER",100);let w=y;class b extends o.Scene{constructor(){super("GameScene"),e(this,"gameManager"),e(this,"scoreText"),e(this,"livesText"),e(this,"instructionText"),e(this,"optionsContainer"),e(this,"pausedText"),e(this,"currentTimerValue",0),e(this,"isInputLocked",!1),e(this,"isPaused",!1),e(this,"lastTimerInt",0),e(this,"TIMER_MAX",5),this.gameManager=w.getInstance()}create(){var t,e,i;const r=this.cameras.main.width,s=this.cameras.main.height,o=Math.floor(.045*r);this.scoreText=this.add.text(.03*r,.02*s,"Score: 0",{fontSize:`${o}px`,color:"#00ff00",fontFamily:c,fontStyle:"bold"}),this.livesText=this.add.text(.97*r,.02*s,"Lives: 3",{fontSize:`${o}px`,color:"#ff0000",fontFamily:c,fontStyle:"bold"}).setOrigin(1,0),this.instructionText=this.add.text(r/2,.2*s,"",{fontSize:`${Math.floor(.07*r)}px`,color:"#ffffff",align:"center",fontFamily:l,wordWrap:{width:.9*r}}).setOrigin(.5),this.optionsContainer=this.add.container(r/2,.65*s),this.scene.isActive("BorderOverlayScene")||this.scene.launch("BorderOverlayScene"),null==(t=this.input.keyboard)||t.on("keydown-P",(()=>{this.gameManager.isDebugMode&&this.togglePause()})),null==(e=this.input.keyboard)||e.on("keydown-Q",(()=>{this.gameManager.isDebugMode&&this.debugQuit()})),null==(i=this.input.keyboard)||i.on("keydown-D",(()=>{this.gameManager.isDebugMode&&this.toggleLayoutDebug()})),this.pausedText=this.add.text(r/2,s/2,"PAUSED",{fontSize:`${Math.floor(.15*r)}px`,color:"#ffff00",fontFamily:c,fontStyle:"bold",backgroundColor:"#00000088",padding:{x:20,y:10}}).setOrigin(.5).setDepth(100).setVisible(!1),this.startNewRound()}update(t,e){this.currentTimerValue>0&&!this.isInputLocked&&!this.isPaused&&!this.gameManager.isLayoutDebugMode&&(this.currentTimerValue-=e/1e3,this.currentTimerValue<=0?this.handleTimeout():this.updateTimerVisuals())}startNewRound(){if(this.gameManager.isGameOver())return this.sound.play("game-over"),void this.scene.start("GameOverScene");const t=this.gameManager.getNextQuestion();t?(this.setupQuestionUI(t),this.sound.play("instruction-reveal"),this.sound.play("grid-item-spawn"),this.scoreText.setText(`Score: ${this.gameManager.score}`),this.livesText.setText(`Lives: ${this.gameManager.lives}`),this.currentTimerValue=this.TIMER_MAX,this.isInputLocked=!1,this.game.events.emit("timer-start")):this.scene.start("GameOverScene")}setupQuestionUI(t){const e=this.cameras.main.width,i=this.cameras.main.height;this.instructionText.setText(t.instruction),this.optionsContainer.removeAll(!0);const r=t.options,s=.28*e,o=.4*i/3,n=.23*e;r.forEach(((t,e)=>{const i=Math.floor(e/3),r=(e%3-1)*s,a=(i-1)*o,l=this.add.rectangle(r,a,n,n,6710886).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>this.handleOptionSelected(t.isCorrect,l))),h=this.add.text(r,a,t.text,{fontSize:`${Math.floor(.22*n)}px`,color:"#ffffff",fontFamily:c,wordWrap:{width:.9*n},align:"center"}).setOrigin(.5);this.optionsContainer.add([l,h])}))}updateTimerVisuals(){const t=1-Math.max(0,this.currentTimerValue)/this.TIMER_MAX;this.game.events.emit("timer-update",t);const e=Math.ceil(this.currentTimerValue);e<this.lastTimerInt&&e>0&&(this.currentTimerValue,this.sound.play("timer-tick")),this.lastTimerInt=Math.ceil(this.currentTimerValue),this.currentTimerValue}handleOptionSelected(t,e){this.isInputLocked||(this.isInputLocked=!0,e.fillColor=t?65280:16711680,this.game.events.emit("option-selected",t),this.gameManager.handleAnswer(t,this.currentTimerValue),t?this.sound.play("correct"):(this.sound.play("incorrect"),this.sound.play("life-lost")),this.time.delayedCall(1500,(()=>{this.gameManager.isGameOver()?(this.currentTimerValue=0,this.updateTimerVisuals(),this.game.events.emit("timer-reset"),this.scene.start("GameOverScene")):this.startNewRound()})))}handleTimeout(){this.isInputLocked||(this.isInputLocked=!0,this.gameManager.handleAnswer(!1,0),this.sound.play("timeout"),this.sound.play("life-lost"),this.instructionText.setText("TIME'S UP!"),this.time.delayedCall(1500,(()=>{this.gameManager.isGameOver()?(this.currentTimerValue=0,this.updateTimerVisuals(),this.game.events.emit("timer-reset"),this.scene.start("GameOverScene")):this.startNewRound()})))}togglePause(){this.isPaused=!this.isPaused,this.pausedText.setVisible(this.isPaused),this.isPaused?this.sound.pauseAll():this.sound.resumeAll()}debugQuit(){this.gameManager.lives=0,this.currentTimerValue=0,this.handleTimeout()}toggleLayoutDebug(){this.gameManager.toggleLayoutDebugMode(),this.scene.restart()}}class S extends o.Scene{constructor(){super("GameOverScene")}create(){const t=w.getInstance(),e=a.getInstance(),i=this.cameras.main.width,r=this.cameras.main.height;if(this.add.text(i/2,.3*r,"GAME OVER",{fontSize:`${Math.floor(.12*i)}px`,color:"#ff0000",fontFamily:l}).setOrigin(.5),this.add.text(i/2,.25*r,`Final Score: ${t.score}`,{fontSize:`${Math.floor(.08*i)}px`,color:"#ffffff",fontFamily:l}).setOrigin(.5),!t.hasSavedScore&&t.score>0){const s=.5*i,o=.05*r,n=this.add.rectangle(i/2,.35*r,s,o,4473924).setInteractive({useHandCursor:!0}),a=this.add.text(i/2,.35*r,"SAVE SCORE",{fontSize:`${Math.floor(.5*o)}px`,color:"#ffffff",fontFamily:c,fontStyle:"bold"}).setOrigin(.5);n.on("pointerdown",(()=>{const i=window.prompt("Enter your name:","Player 1");null!==i&&(e.saveScore(i,t.score),t.hasSavedScore=!0,n.destroy(),a.destroy(),this.sound.play("high-score"),this.scene.restart())}))}h.render(this,i/2,.5*r,.8*i);const s=.6*i,o=.08*r,n=this.add.rectangle(i/2,.85*r,s,o,65280).setInteractive({useHandCursor:!0});this.add.text(i/2,.85*r,"RESTART",{fontSize:`${Math.floor(.45*o)}px`,color:"#000000",fontFamily:c,fontStyle:"bold"}).setOrigin(.5),n.on("pointerdown",(()=>{this.sound.play("restart"),t.resetGame(),this.scene.start("GameScene")}))}}class T extends o.Scene{constructor(){super("BorderOverlayScene"),e(this,"borderGraphics"),e(this,"COLOR_START",3132858),e(this,"COLOR_END",7451264)}create(){this.borderGraphics=this.add.graphics(),this.game.events.on("timer-start",this.handleTimerStart,this),this.game.events.on("timer-update",this.handleTimerUpdate,this),this.game.events.on("timer-reset",this.handleTimerReset,this),this.scale.on("resize",this.handleResize,this),this.handleTimerReset()}handleResize(t){this.handleTimerReset()}handleTimerStart(){this.borderGraphics.clear();const t=this.cameras.main.width,e=Math.ceil(.02*t);this.borderGraphics.fillStyle(this.COLOR_START,1),this.borderGraphics.fillRect(0,0,t,e)}handleTimerUpdate(t){const e=this.cameras.main.width,i=this.cameras.main.height,r=Math.ceil(.02*e);this.borderGraphics.clear(),this.borderGraphics.fillStyle(this.COLOR_START,1),this.borderGraphics.fillRect(0,0,e,r);const s=i*t;this.borderGraphics.fillGradientStyle(this.COLOR_START,this.COLOR_START,this.COLOR_END,this.COLOR_END,1),this.borderGraphics.fillRect(0,0,r,s),this.borderGraphics.fillGradientStyle(this.COLOR_START,this.COLOR_START,this.COLOR_END,this.COLOR_END,1),this.borderGraphics.fillRect(e-r,0,r,s),t>=.99&&(this.borderGraphics.fillStyle(this.COLOR_END,1),this.borderGraphics.fillRect(0,i-r,e,r))}handleTimerReset(){const t=this.cameras.main.width,e=this.cameras.main.height,i=Math.ceil(.02*t);this.borderGraphics.clear(),this.borderGraphics.fillStyle(this.COLOR_START,1),this.borderGraphics.fillRect(0,0,t,i),this.borderGraphics.fillRect(0,e-i,t,i),this.borderGraphics.fillRect(0,0,i,e),this.borderGraphics.fillRect(t-i,0,i,e)}}class k extends s.Scene{constructor(){super("BackgroundScene"),e(this,"gradient"),e(this,"rays"),e(this,"speedMultiplier",1),this.rays=[]}create(){this.createGradient(),this.createRays(),this.createSparkles(),this.createSparkles(),this.game.events.on("option-selected",(()=>{this.speedMultiplier=40,this.tweens.add({targets:this,speedMultiplier:1,duration:2e3,ease:"Sine.easeOut"})})),this.scale.on("resize",this.resize,this)}createGradient(){const t=this.scale.width,e=this.scale.height;this.gradient=this.add.graphics(),this.drawGradient(t,e)}drawGradient(t,e){this.gradient.clear(),this.gradient.fillGradientStyle(1265246,1265246,7451264,7451264,1),this.gradient.fillRect(0,0,t,e)}createRays(){const t=this.scale.width,e=this.scale.height,i=t/2,r=.25*e;this.rays.forEach((t=>t.destroy())),this.rays=[];for(let s=0;s<10;s++){const t=this.add.graphics();t.fillStyle(16777215,.15),t.beginPath(),t.moveTo(0,-e),t.lineTo(40,0),t.lineTo(-40,0),t.closePath(),t.fillPath(),t.setPosition(i,r),t.setAngle(36*s),t.setAlpha(.25),this.rays.push(t)}}createSparkles(){if(!this.textures.exists("flare")){const t=this.make.graphics({x:0,y:0});t.fillStyle(16777215,1),t.fillCircle(10,10,10),t.generateTexture("flare",20,20)}this.add.particles(0,0,"flare",{x:{min:0,max:this.scale.width},y:{min:0,max:this.scale.height},lifespan:2e3,speedY:{min:-10,max:-50},scale:{start:.1,end:0},quantity:1,frequency:500,blendMode:"ADD",emitting:!0})}update(t,e){this.rays.forEach(((t,e)=>{t.angle+=.05*this.speedMultiplier}))}resize(t){const e=t.width,i=t.height;this.drawGradient(e,i);const r=e/2,s=.25*i;this.rays.forEach((t=>{t.setPosition(r,s)}))}}const O={type:o.AUTO,width:1080,height:2484,parent:"game-container",backgroundColor:"#028af8",scale:{mode:o.Scale.RESIZE,autoCenter:o.Scale.CENTER_BOTH},scene:[g,b,S,T,k]};document.addEventListener("DOMContentLoaded",(()=>{new o.Game({...O,parent:"game-container"})}));
